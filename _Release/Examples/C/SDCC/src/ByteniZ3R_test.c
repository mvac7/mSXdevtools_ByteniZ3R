/* =============================================================================
   ByteniZ3R Test
   v1.1 (04/2022)
   Compiled with SDCC
============================================================================= */

#include "../include/newTypes.h"
#include "../include/msxBIOS.h"
#include "../include/msxSystemVars.h"
#include "../include/VDP_TMS9918A_MSXROM.h"
#include "../include/VDP_SPRITES.h"


//#define EXPTBL 0xFCC1


#define  HALT __asm halt __endasm


// SPRITE Pattern DATA
const char SPRITE_DATA[]={
0x07,0x1F,0x3F,0x7F,0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0x7F,0x3F,0x1F,0x07,
0xE0,0xF8,0xFC,0xFE,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,0xFC,0xF8,0xE0};



// ByteniZ3R v0.9.12.0
// Cosine
// Size=256
// Length=256; Min=32; Max=175; Phase=0; Freq=4
const char YDATA[]={
0xAF,0xAF,0xAE,0xAC,0xAA,0xA7,0xA3,0x9F,0x9A,0x95,0x8F,0x89,0x83,0x7C,0x75,0x6F,
0x68,0x60,0x5A,0x53,0x4C,0x46,0x40,0x3A,0x35,0x30,0x2C,0x28,0x25,0x23,0x21,0x20,
0x20,0x20,0x21,0x23,0x25,0x28,0x2C,0x30,0x35,0x3A,0x40,0x46,0x4C,0x53,0x5A,0x60,
0x67,0x6F,0x75,0x7C,0x83,0x89,0x8F,0x95,0x9A,0x9F,0xA3,0xA7,0xAA,0xAC,0xAE,0xAF,
0xAF,0xAF,0xAE,0xAC,0xAA,0xA7,0xA3,0x9F,0x9A,0x95,0x8F,0x89,0x83,0x7C,0x75,0x6F,
0x68,0x60,0x5A,0x53,0x4C,0x46,0x40,0x3A,0x35,0x30,0x2C,0x28,0x25,0x23,0x21,0x20,
0x20,0x20,0x21,0x23,0x25,0x28,0x2C,0x30,0x35,0x3A,0x40,0x46,0x4C,0x53,0x5A,0x60,
0x67,0x6F,0x75,0x7C,0x83,0x89,0x8F,0x95,0x9A,0x9F,0xA3,0xA7,0xAA,0xAC,0xAE,0xAF,
0xAF,0xAF,0xAE,0xAC,0xAA,0xA7,0xA3,0x9F,0x9A,0x95,0x8F,0x89,0x83,0x7C,0x75,0x6F,
0x68,0x60,0x5A,0x53,0x4C,0x46,0x40,0x3A,0x35,0x30,0x2C,0x28,0x25,0x23,0x21,0x20,
0x20,0x20,0x21,0x23,0x25,0x28,0x2C,0x30,0x35,0x3A,0x40,0x46,0x4C,0x53,0x5A,0x60,
0x67,0x6F,0x75,0x7C,0x83,0x89,0x8F,0x95,0x9A,0x9F,0xA3,0xA7,0xAA,0xAC,0xAE,0xAF,
0xAF,0xAF,0xAE,0xAC,0xAA,0xA7,0xA3,0x9F,0x9A,0x95,0x8F,0x89,0x83,0x7C,0x75,0x6F,
0x67,0x60,0x5A,0x53,0x4C,0x46,0x40,0x3A,0x35,0x30,0x2C,0x28,0x25,0x23,0x21,0x20,
0x20,0x20,0x21,0x23,0x25,0x28,0x2C,0x30,0x35,0x3A,0x40,0x46,0x4C,0x53,0x5A,0x60,
0x67,0x6F,0x75,0x7C,0x83,0x89,0x8F,0x95,0x9A,0x9F,0xA3,0xA7,0xAA,0xAC,0xAE,0xAF};






void main(void) {
  char i=0;
  char x=0;
  boolean right=true;
  
  COLOR(15,1,1);    
  SCREEN(2);
  SetSpritesSize(1);//16x16
  SetSpritesZoom(false);
  
  CopyToVRAM((uint) SPRITE_DATA,BASE14,32*1); //Copy Sprite Pattern data to VRAM
  
  while(1){
      HALT;
      PUTSPRITE(0, x, YDATA[i], RED, 0);
      if (right){
        x++;
        if(x==239) right=false;
      }else{
        x--;
        if(x==0) right=true;
      }
      i++;    
    }
      
}





